import { bytesToHex } from './crypto/utils';
import { sha256 } from './crypto/encryption';
export class PreparedMessage {
    constructor(messageEnvelope, onSend) {
        this.messageEnvelope = messageEnvelope;
        this.onSend = onSend;
    }
    async messageID() {
        if (!this.messageEnvelope.message) {
            throw new Error('no envelope message');
        }
        return bytesToHex(await sha256(this.messageEnvelope.message));
    }
    async send() {
        await this.onSend();
    }
}
//# sourceMappingURL=PreparedMessage.js.map